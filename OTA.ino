//=======================================================================================================================
//BIBLIOTECAS
//=======================================================================================================================

#include <WiFi.h>
#include "OTA.h"

//=======================================================================================================================
//DEFINIÇÕES
//=======================================================================================================================

//=======================================================================================================================
//INFORMAÇÕES DA REDE WIFI
//=======================================================================================================================

#define WIFI_SSID "brisa-620277"
#define WIFI_PASS "plgl1ixz"

//=======================================================================================================================
//VARIÁVEIS GLOBAIS
//=======================================================================================================================


//=======================================================================================================================
//OBJETOS
//=======================================================================================================================
OTAIDE ota;

//=======================================================================================================================
//FUNÇÕES
//=======================================================================================================================

void wifi_conectar(String ssid, String senha);

void ota_iniciando();
void ota_progresso(unsigned int progresso, unsigned int total);
void ota_terminando();
void ota_erro(ota_error_t erro);

//=======================================================================================================================
//SETUP
//=======================================================================================================================

void setup() {
    //Inicia a comunicação serial
    Serial.begin(115200);
    Serial.println("************************************");
    Serial.println("          OTA-IDE v0.0.1");
    Serial.println("************************************");
    
    //Conecta ao WiFi
    wifi_conectar(WIFI_SSID, WIFI_PASS);

    ota.setHostname("ESP32-WL");
    ota.setPassword("12345678");
    ota.onProgress(ota_progresso);
    ota.setup();

    Serial.println("************************************");
}

//=======================================================================================================================
//LOOP
//=======================================================================================================================

void loop() {
    ota.loop();
}

//=======================================================================================================================
